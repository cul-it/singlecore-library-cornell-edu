<%# default partial to display solr document fields in catalog show view -%>
<% @collection_website = render_document_show_field_value(:document => @document, :field => 'collection_website_ss') %>
<% @ssc_site  = render_document_show_field_value(:document => @document, :field => 'ssc_site_tesim') %>
<% @bibid  = render_document_show_field_value(:document => @document, :field => 'bibid_ssi') %>

<%= render 'viewer' %>



<%# for images and audio - TODO: DRY this up if possible; repeating markup -%>
	<% if !@project.blank? && @kaltura.blank? || !@kaltura.blank? %>
	<div class="col-sm-8 item-info">
		<dl class="metadata dl-horizontal">
		  <% document_show_fields(document).each do |field_name, field| -%>
		    <% if should_render_show_field? document, field %>
			    <dt class="blacklight-<%= field_name.parameterize %>"><%= render_document_show_field_label document, field: field_name %></dt>
			    <dd class="blacklight-<%= field_name.parameterize %>"><%= render_document_show_field_value document, field: field_name %></dd>
		    <% end -%>
		  <% end -%>
		</dl>
		<%= render partial: 'catalog/show_maplet_default' %>
		</div><%# add extra closing div to fix this layout bug: https://issues.library.cornell.edu/browse/DIGCOLL-219 %>
	</div>
	<div class="col-sm-4 more-item-info">
	<% if @project == "616" && render_document_show_field_value(:document => @document, :field => 'occasion_tesim').present? %>
		<%= render 'track_list', :document => document%>
	<% end %>
	
	<% if !@collection_website.blank? || !@ssc_site.blank? || @bibid.present? %>
		<div class="well">
			<h2>About the collection</h2>
			<% if @bibid.present? %>
	 			<%= render partial: 'cataloginfo'%>
	 		<% end %>
	 		<ul class="fa-ul collection-links">
		 		<% if @collection_website.present? %>
					<li><i class="fa-li fa fa-external-link"></i><a href="<%= @collection_website %>" onclick="javascript:_paq.push(['trackEvent', 'ExternalLink', 'CollectionWebsite']);">Collection website</a></li>
				<% end %>
				<% if @bibid.present? %>
					<li><i class="fa-li fa fa-external-link"></i>
						<%= link_to "Catalog record","https://newcatalog.library.cornell.edu/catalog/#{@bibid}" %>
					</li>
				<% end %>
		 		<% if !@ssc_site.blank? %>
					<li><i class="fa-li fa fa-external-link"></i><a href="<%= @ssc_site %>" class="ss-link"  onclick="javascript:_paq.push(['trackEvent', 'ExternalLink', 'SharedShelf']);">View collection in ARTstor/Shared Shelf Commons</a></li>
				<% end %>
			</ul>
		</div>
		<% end %>
	</div>



<%# for books -%>
<% else %>
	<div class="col-md-9 item-info">
		<dl class="metadata dl-horizontal">
		  <% document_show_fields(document).each do |field_name, field| -%>
		    <% if should_render_show_field? document, field %>
			    <dt class="blacklight-<%= field_name.parameterize %>"><%= render_document_show_field_label document, field: field_name %></dt>
			    <dd class="blacklight-<%= field_name.parameterize %>"><%= render_document_show_field_value document, field: field_name %></dd>
		    <% end -%>
		  <% end -%>
		</dl>
		<%= render partial: 'catalog/show_maplet_default' %>
		</div><%# add extra closing div to fix this layout bug: https://issues.library.cornell.edu/browse/DIGCOLL-219 %>
		<div class="more-item-info">
			<% if @collection_website.present? %>
			<div class="well">
				<ul class="fa-ul collection-links">
					<li><i class="fa-li fa fa-desktop"></i><a href="<%= @collection_website %>" onclick="javascript:_paq.push(['trackEvent', 'ExternalLink', 'CollectionWebsite']);">Collection website</a></li>
				</ul>
			</div>
			<% end %>
		</div>
	</div>
<% end %>
